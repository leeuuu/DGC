var loadingBool=!0,loadingNum=0;window.boot=function(){function setLoadingDisplay(){var splash=document.getElementById("splash");cc.loader.onProgress=function(completedCount,totalCount,item){if(loadData.completedCount=completedCount,loadData.totalCount=totalCount,loadingBool)var loadintT=document.getElementById("loadingText");var percent=100*completedCount/totalCount;loadingBool&&loadingNum>=1&&totalCount>1&&percent.toFixed(0)>=100&&(loadintT.innerHTML="loading......100%",setTimeout(function(){loadingBool=!1,loadintT.remove()},100),clearInterval(timer)),loadingNum++},splash.style.display="block",cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH,function(){splash.style.display="none"})}var settings=window._CCSettings;if(window._CCSettings=void 0,!settings.debug){var uuids=settings.uuids,rawAssets=settings.rawAssets,assetTypes=settings.assetTypes,realRawAssets=settings.rawAssets={};for(var mount in rawAssets){var entries=rawAssets[mount],realEntries=realRawAssets[mount]={};for(var id in entries){var entry=entries[id],type=entry[1];"number"==typeof type&&(entry[1]=assetTypes[type]),realEntries[uuids[id]||id]=entry}}for(var scenes=settings.scenes,i=0;i<scenes.length;++i){var scene=scenes[i];"number"==typeof scene.uuid&&(scene.uuid=uuids[scene.uuid])}var packedAssets=settings.packedAssets;for(var packId in packedAssets)for(var packedIds=packedAssets[packId],j=0;j<packedIds.length;++j)"number"==typeof packedIds[j]&&(packedIds[j]=uuids[packedIds[j]]);var subpackages=settings.subpackages;for(var subId in subpackages){var uuidArray=subpackages[subId].uuids;if(uuidArray)for(var k=0,l=uuidArray.length;l>k;k++)"number"==typeof uuidArray[k]&&(uuidArray[k]=uuids[uuidArray[k]])}}var onStart=function(){cc.loader.downloader._subpackages=settings.subpackages,cc.view.enableRetina(!0),cc.view.resizeWithBrowserSize(!0),cc.sys.isBrowser&&setLoadingDisplay(),cc.sys.isMobile&&("landscape"===settings.orientation?cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE):"portrait"===settings.orientation&&cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT),cc.view.enableAutoFullScreen(!1)),cc.sys.isBrowser&&cc.sys.os===cc.sys.OS_ANDROID&&(cc.macro.DOWNLOAD_MAX_CONCURRENT=2);var canvas,launchScene=settings.launchScene;cc.sys.isBrowser&&(canvas=document.getElementById("GameCanvas"));var launchScene=settings.launchScene,MainManger=__require("MainManage");MainManger.init(launchScene,cc.sys.isBrowser,canvas.style.visibility)},jsList=settings.jsList,bundledScript=settings.debug?"src/project.dev.js":"src/project.js";jsList?(jsList=jsList.map(function(x){return"src/"+x}),jsList.push(bundledScript)):jsList=[bundledScript];var option={id:"GameCanvas",scenes:settings.scenes,debugMode:settings.debug?cc.debug.DebugMode.INFO:cc.debug.DebugMode.ERROR,showFPS:settings.debug,frameRate:60,jsList:jsList,groupList:settings.groupList,collisionMatrix:settings.collisionMatrix};cc.AssetLibrary.init({libraryPath:"res/import",rawAssetsBase:"res/raw-",rawAssets:settings.rawAssets,packedAssets:settings.packedAssets,md5AssetsMap:settings.md5AssetsMap,subpackages:settings.subpackages}),cc.game.run(option,onStart)};var ORIENTATIONS,prevPipe;if(window.jsb){var isRuntime="function"==typeof loadRuntime;isRuntime?(require("src/settings.js"),require("src/cocos2d-runtime.js"),require("jsb-adapter/engine/index.js")):(require("src/settings.js"),require("src/cocos2d-jsb.js"),require("jsb-adapter/jsb-engine.js")),cc.macro.CLEANUP_IMAGE_CACHE=!0,window.boot()}